# NPM å‘å¸ƒæŒ‡å—

## å‡†å¤‡å·¥ä½œ

### 1. æ³¨å†Œ npm è´¦å·

å¦‚æœè¿˜æ²¡æœ‰ npm è´¦å·ï¼Œè®¿é—® https://www.npmjs.com/ æ³¨å†Œã€‚

### 2. ç™»å½• npm

```bash
npm login
```

è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±ã€‚

### 3. éªŒè¯ç™»å½•çŠ¶æ€

```bash
npm whoami
```

## å‘å¸ƒå‰æ£€æŸ¥

### 1. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

```bash
npm test
```

### 2. ç¡®ä¿æ„å»ºæˆåŠŸ

```bash
npm run build
```

### 3. æ£€æŸ¥å°†è¦å‘å¸ƒçš„æ–‡ä»¶

```bash
npm pack --dry-run
```

è¿™ä¼šæ˜¾ç¤ºå°†è¦åŒ…å«åœ¨ npm åŒ…ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚

### 4. éªŒè¯ package.json

ç¡®ä¿ä»¥ä¸‹å­—æ®µæ­£ç¡®ï¼š
- `name`: dm3-mcp-server
- `version`: å½“å‰ç‰ˆæœ¬å·
- `description`: æè¿°ä¿¡æ¯
- `main`: dist/index.js
- `bin`: å¯æ‰§è¡Œæ–‡ä»¶é…ç½®
- `files`: è¦åŒ…å«çš„æ–‡ä»¶åˆ—è¡¨
- `repository`: GitHub ä»“åº“åœ°å€
- `keywords`: å…³é”®è¯åˆ—è¡¨

## å‘å¸ƒæµç¨‹

### é¦–æ¬¡å‘å¸ƒ

```bash
npm publish
```

### æ›´æ–°ç‰ˆæœ¬å¹¶å‘å¸ƒ

#### è¡¥ä¸ç‰ˆæœ¬ï¼ˆbug ä¿®å¤ï¼‰

```bash
npm version patch
npm publish
```

#### æ¬¡ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰

```bash
npm version minor
npm publish
```

#### ä¸»ç‰ˆæœ¬ï¼ˆç ´åæ€§æ›´æ–°ï¼‰

```bash
npm version major
npm publish
```

## å‘å¸ƒåéªŒè¯

### 1. æ£€æŸ¥ npm é¡µé¢

è®¿é—® https://www.npmjs.com/package/dm3-mcp-server

### 2. æµ‹è¯•å®‰è£…

åœ¨å¦ä¸€ä¸ªç›®å½•æµ‹è¯•ï¼š

```bash
# å…¨å±€å®‰è£…
npm install -g dm3-mcp-server

# éªŒè¯å¯æ‰§è¡Œæ–‡ä»¶
npx dm3-mcp-server --version

# æˆ–ç›´æ¥è¿è¡Œ
dm3-mcp-server
```

### 3. æµ‹è¯• npx ä½¿ç”¨

```bash
npx dm3-mcp-server
```

## ç‰ˆæœ¬ç®¡ç†

### ç‰ˆæœ¬å·è§„åˆ™

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ (Semantic Versioning)ï¼š

- **ä¸»ç‰ˆæœ¬å· (MAJOR)**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å· (MINOR)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å· (PATCH)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

ç¤ºä¾‹ï¼š
- `1.0.0` â†’ `1.0.1` (bug ä¿®å¤)
- `1.0.1` â†’ `1.1.0` (æ–°åŠŸèƒ½)
- `1.1.0` â†’ `2.0.0` (ç ´åæ€§æ›´æ–°)

### æ›´æ–° CHANGELOG

æ¯æ¬¡å‘å¸ƒå‰æ›´æ–° `CHANGELOG.md`ï¼š

```markdown
## [1.0.1] - 2026-02-19

### Fixed
- ä¿®å¤ xxx é—®é¢˜

### Added
- æ·»åŠ  xxx åŠŸèƒ½

### Changed
- æ›´æ”¹ xxx è¡Œä¸º
```

## æ’¤é”€å‘å¸ƒ

å¦‚æœå‘å¸ƒåå‘ç°ä¸¥é‡é—®é¢˜ï¼Œå¯ä»¥åœ¨ 24 å°æ—¶å†…æ’¤é”€ï¼š

```bash
npm unpublish dm3-mcp-server@ç‰ˆæœ¬å·
```

**æ³¨æ„**ï¼šæ’¤é”€å‘å¸ƒä¼šå½±å“å·²ç»ä½¿ç”¨è¯¥ç‰ˆæœ¬çš„ç”¨æˆ·ï¼Œè¯·è°¨æ…æ“ä½œã€‚

## å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ„å»ºæˆåŠŸ
- [ ] æ›´æ–°äº†ç‰ˆæœ¬å·
- [ ] æ›´æ–°äº† CHANGELOG.md
- [ ] æ›´æ–°äº† README.mdï¼ˆå¦‚æœ‰å¿…è¦ï¼‰
- [ ] æäº¤äº†æ‰€æœ‰æ›´æ”¹åˆ° Git
- [ ] æ¨é€åˆ° GitHub
- [ ] åˆ›å»ºäº† Git tagï¼ˆå¯é€‰ï¼‰

## å¸¸è§é—®é¢˜

### 1. åŒ…åå·²è¢«å ç”¨

å¦‚æœ `dm3-mcp-server` å·²è¢«å ç”¨ï¼Œå¯ä»¥ï¼š
- ä½¿ç”¨ä½œç”¨åŸŸåŒ…åï¼š`@ä½ çš„ç”¨æˆ·å/dm3-mcp-server`
- é€‰æ‹©å…¶ä»–åŒ…åï¼š`dm3-mcp`, `dm3-game-mcp` ç­‰

### 2. å‘å¸ƒæƒé™é—®é¢˜

ç¡®ä¿ï¼š
- å·²ç™»å½• npm
- æœ‰å‘å¸ƒè¯¥åŒ…çš„æƒé™
- åŒ…åæ²¡æœ‰è¢«å…¶ä»–äººå ç”¨

### 3. æ–‡ä»¶ç¼ºå¤±

æ£€æŸ¥ `.npmignore` å’Œ `package.json` ä¸­çš„ `files` å­—æ®µï¼Œç¡®ä¿å¿…è¦æ–‡ä»¶è¢«åŒ…å«ã€‚

## è‡ªåŠ¨åŒ–å‘å¸ƒ

å¯ä»¥ä½¿ç”¨ GitHub Actions è‡ªåŠ¨å‘å¸ƒï¼š

```yaml
# .github/workflows/publish.yml
name: Publish to npm

on:
  release:
    types: [created]

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          registry-url: 'https://registry.npmjs.org'
      - run: npm ci
      - run: npm test
      - run: npm publish
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
```

éœ€è¦åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ  `NPM_TOKEN` secretã€‚

## ç»´æŠ¤å»ºè®®

1. **å®šæœŸæ›´æ–°ä¾èµ–**ï¼šä½¿ç”¨ `npm outdated` æ£€æŸ¥è¿‡æ—¶çš„ä¾èµ–
2. **å“åº” Issues**ï¼šåŠæ—¶å›å¤ç”¨æˆ·é—®é¢˜
3. **ä¿æŒæ–‡æ¡£æ›´æ–°**ï¼šç¡®ä¿ README å’Œæ–‡æ¡£ä¸ä»£ç åŒæ­¥
4. **éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬**ï¼šè®©ç”¨æˆ·èƒ½é¢„æœŸæ›´æ–°çš„å½±å“
5. **ç¼–å†™æµ‹è¯•**ï¼šæé«˜ä»£ç è´¨é‡å’Œå¯é æ€§

---

å‡†å¤‡å¥½äº†å°±å¯ä»¥å‘å¸ƒäº†ï¼ğŸš€

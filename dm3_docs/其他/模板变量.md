# 模板变量

## 介绍

- 模板变量是为了让组件使用起来更加简洁，通过使用&&语法将数据绑定，数据发生变化视图自动更新。
- 模板标签以文本形式出现& &,当组件或是接口支持模板变量功能时，文档中会有说明。
- 系统默认自带的模板变量是当前主角的属性表。

| | `{ 类型 = "标签", 标题 = "生命: &hp&/&maxhp& 法力: &mp&/&maxmp&", ... ... ... ... }, ` |
| --- | --- |
| | `{ 类型 = "标签", 标题 = "生命: &hp&/&maxhp& 法力: &mp&/&maxmp&", ... ... }, { 类型 = "进度条", 最小值 = 0, 最大值 = "&maxhp&", 位置 = "&hp&", ... ... }, ` |

```
{
 类型 = "标签",
 标题 = "生命: &hp&/&maxhp& 法力: &mp&/&maxmp&",
 ...
 ...
 ...
 ...
},

```

```
{
 类型 = "标签",
 标题 = "生命: &hp&/&maxhp& 法力: &mp&/&maxmp&",
 ...
 ...
},
{
 类型 = "进度条",
 最小值 = 0,
 最大值 = "&maxhp&",
 位置 = "&hp&",
 ...
 ...
},

```

## 数据源

- 除了默认使用系统自带的模板变量，还可以指定自己的数据源。

| | `{ 类型 = "标签", 标题 = "昵称: &名称&\n等级: &等级& \n经验: &经验值&/&升级经验值&\n攻击: &属性.攻击&\n防御: &属性.防御&", 数据源 = {名称="刘亦菲",等级=16,经验值=123,升级经验值=666,属性={攻击=100,防御=20}} ... ... ... }, ` |
| --- | --- |

```
{
 类型 = "标签",
 标题 = "昵称: &名称&\n等级: &等级& \n经验: &经验值&/&升级经验值&\n攻击: &属性.攻击&\n防御: &属性.防御&",
 数据源 = {名称="刘亦菲",等级=16,经验值=123,升级经验值=666,属性={攻击=100,防御=20}}
 ...
 ...
 ...
},

```

## 条件分支

- 支持 if - else - elseif - end
- 支持嵌套

| | `{ 类型 = "标签", 标题 = "&名称& 你的技能应该选择{if &职业& == '战士'}初级剑法{elseif &职业& == '法师'}火球术{else}治疗术{end}，可以选择{if &职业& == '战士'}匕首{elseif &职业& == '法师'}{if &等级& > 20}骨玉{else}木杖{end}{else}牛皮弓{end}作为武器！", 数据源 = {名称="刘亦菲",职业="法师",等级=30} ... ... ... }, ` |
| --- | --- |
| | `{ 类型 = "文本框", 内容 = [[ {if &等级& < 10} &名称&，你的等级不足，还不能从我这里获得武器。 #Y#@exit@告辞@ {else} &名称&，选择你的&职业&武器 #Y{if &职业& == '战士'}#@选择匕首@匕首@ {elseif &职业& == '法师'}#@选择木杖@木杖@{else}#@选择牛皮弓@牛皮弓@{end} {end} ]], 数据源 = {名称="刘亦菲",职业="战士",等级=1} ... ... ... }, ` |

```
{
 类型 = "标签",
 标题 = "&名称& 你的技能应该选择{if &职业& == '战士'}初级剑法{elseif &职业& == '法师'}火球术{else}治疗术{end}，可以选择{if &职业& == '战士'}匕首{elseif &职业& == '法师'}{if &等级& > 20}骨玉{else}木杖{end}{else}牛皮弓{end}作为武器！",
 数据源 = {名称="刘亦菲",职业="法师",等级=30}
 ...
 ...
 ...
},

```

```
{
 类型 = "文本框",
 内容 = [[
{if &等级& < 10}
&名称&，你的等级不足，还不能从我这里获得武器。

#Y#@exit@告辞@
{else}
&名称&，选择你的&职业&武器

#Y{if &职业& == '战士'}#@选择匕首@匕首@ {elseif &职业& == '法师'}#@选择木杖@木杖@{else}#@选择牛皮弓@牛皮弓@{end}
{end}
]],
 数据源 = {名称="刘亦菲",职业="战士",等级=1}
 ...
 ...
 ...
},

```

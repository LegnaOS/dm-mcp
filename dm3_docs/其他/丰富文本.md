# 丰富文本

## 介绍

丰富文本是一种标记文本格式，使用它可以快捷的完成一些高级文本效果，例如：图文混排，超链接，气泡提示等。

### 颜色

说明：格式为#标记，改变标记后的文字颜色，直到下一个#颜色标签出现。

标记 颜色效果 #W 白色 #R 红色 #Y 黄色 #B 蓝色 #G 绿色 #H 灰色 #L 浅蓝 `引擎.信息框("#L不要杀我！#G我是帮你测试#R接口的#W！")`

| 标记 | 颜色效果 | |
| --- | --- | --- |
| #W | 白色 | |
| #R | 红色 | |
| #Y | 黄色 | |
| #B | 蓝色 | |
| #G | 绿色 | |
| #H | 灰色 | |
| #L | 浅蓝 | |

| | `引擎.信息框("#L不要杀我！#G我是帮你测试#R接口的#W！") ` |
| --- | --- |

```
引擎.信息框("#L不要杀我！#G我是帮你测试#R接口的#W！")

```

### #c

#c

说明：自定义颜色标签。可以填写十六进制，也可以使用RGBA设置。

`引擎.信息框("这是#c(0xF4C150FF)铁匠#W打造的一把#c(200,0,0,200)终极武器!") `

| | `引擎.信息框("这是#c(0xF4C150FF)铁匠#W打造的一把#c(200,0,0,200)终极武器!") ` |
| --- | --- |

```
引擎.信息框("这是#c(0xF4C150FF)铁匠#W打造的一把#c(200,0,0,200)终极武器!")

```

### #p

#p

说明：图片显示标签。 图片标识支持图集写法：图集名\|帧标识

#p(图片标识) `引擎.信息框("这件#p(图标_炼狱)#W是铁匠打造的一把#c(200,200,0,255)终极武器!") ` #p(图片标识,偏移x,偏移y) `引擎.信息框("这件#p(图标_炼狱,-4,8)#W是铁匠打造的一把#c(200,200,0,255)终极武器!") ` #p(图片标识,偏移x,偏移y,区域宽度,区域高度) 在一个指定区域内让图片居中并且自适应缩放显示。 `引擎.信息框("这件#p(道具底图,0,8)#p(图标_炼狱,-48,8,46,46)#W是铁匠打造的一把#c(200,200,0,255)终极武器!") `

| | #p(图片标识) `引擎.信息框("这件#p(图标_炼狱)#W是铁匠打造的一把#c(200,200,0,255)终极武器!") ` |
| --- | --- |
| | #p(图片标识,偏移x,偏移y) `引擎.信息框("这件#p(图标_炼狱,-4,8)#W是铁匠打造的一把#c(200,200,0,255)终极武器!") ` |
| | #p(图片标识,偏移x,偏移y,区域宽度,区域高度) 在一个指定区域内让图片居中并且自适应缩放显示。 `引擎.信息框("这件#p(道具底图,0,8)#p(图标_炼狱,-48,8,46,46)#W是铁匠打造的一把#c(200,200,0,255)终极武器!") ` |

## #p(图片标识)

```
引擎.信息框("这件#p(图标_炼狱)#W是铁匠打造的一把#c(200,200,0,255)终极武器!")

```

## #p(图片标识,偏移x,偏移y)

```
引擎.信息框("这件#p(图标_炼狱,-4,8)#W是铁匠打造的一把#c(200,200,0,255)终极武器!")

```

## #p(图片标识,偏移x,偏移y,区域宽度,区域高度)

```
引擎.信息框("这件#p(道具底图,0,8)#p(图标_炼狱,-48,8,46,46)#W是铁匠打造的一把#c(200,200,0,255)终极武器!")

```

### #a

#a

说明：动画标签。

#a(动画标识,动作标识,缩放[可选],宽度[可选],高度[可选],偏移x[可选],偏移y[可选],锚点x[可选],锚点y[可选]) 动画默认没有宽高不占用区域，可以手动指定宽度,高度占位。 `引擎.信息框("这件#p(默认皮肤\|格子底图,0,8)#p(图集_道具\|00009,-42,8,42,42)#a(格子动画包,稀有,1.2,24,0,-22,29)是铁匠打造的一把#c(200,200,0,255)终极武器!") `

| | #a(动画标识,动作标识,缩放[可选],宽度[可选],高度[可选],偏移x[可选],偏移y[可选],锚点x[可选],锚点y[可选]) 动画默认没有宽高不占用区域，可以手动指定宽度,高度占位。 `引擎.信息框("这件#p(默认皮肤\|格子底图,0,8)#p(图集_道具\|00009,-42,8,42,42)#a(格子动画包,稀有,1.2,24,0,-22,29)是铁匠打造的一把#c(200,200,0,255)终极武器!") ` |
| --- | --- |

## #a(动画标识,动作标识,缩放[可选],宽度[可选],高度[可选],偏移x[可选],偏移y[可选],锚点x[可选],锚点y[可选])

```
引擎.信息框("这件#p(默认皮肤|格子底图,0,8)#p(图集_道具|00009,-42,8,42,42)#a(格子动画包,稀有,1.2,24,0,-22,29)是铁匠打造的一把#c(200,200,0,255)终极武器!")

```

### #f

#f

说明：改变字体。

`引擎.信息框("这把#G#f(宋体14粗)炼狱#f(宋体12)#W是#f(宋体14粗)铁匠#f(宋体12)#W打造的一把#c(200,200,0,255)终极武器!") `

| | `引擎.信息框("这把#G#f(宋体14粗)炼狱#f(宋体12)#W是#f(宋体14粗)铁匠#f(宋体12)#W打造的一把#c(200,200,0,255)终极武器!") ` |
| --- | --- |

```
引擎.信息框("这把#G#f(宋体14粗)炼狱#f(宋体12)#W是#f(宋体14粗)铁匠#f(宋体12)#W打造的一把#c(200,200,0,255)终极武器!")

```

### #md #rt

#md #rt

说明：居中对齐 右对齐。

#md 居中对齐 #rt 右对齐 #md(指定宽度)居中对齐 #rt(指定宽度)右对齐 `<=0 表示气泡右边距` 如果不指定宽度,行宽度以所在段落文字中最长一行为标准。 `引擎.信息框( [[ 1234567891234567891234567895678912345678 #G#rt我是右对齐的一行 #R#md我是居中的一行 #W123456789123456789123456789 #Y#f(宋体14粗)#md完美的疾风炼狱 #md#p(道具底图,-21,0)#p(图标_炼狱,-48,0,46,46) #f(宋体12)#W#md攻击：5-30 #W#md重量：8 #G#md攻击速度：+3 #W#md价格：3000金币 ]] ) `

| | #md 居中对齐 #rt 右对齐 #md(指定宽度)居中对齐 #rt(指定宽度)右对齐 `<=0 表示气泡右边距` 如果不指定宽度,行宽度以所在段落文字中最长一行为标准。 `引擎.信息框( [[ 1234567891234567891234567895678912345678 #G#rt我是右对齐的一行 #R#md我是居中的一行 #W123456789123456789123456789 #Y#f(宋体14粗)#md完美的疾风炼狱 #md#p(道具底图,-21,0)#p(图标_炼狱,-48,0,46,46) #f(宋体12)#W#md攻击：5-30 #W#md重量：8 #G#md攻击速度：+3 #W#md价格：3000金币 ]] ) ` |
| --- | --- |

## #md 居中对齐　　#rt 右对齐

## #md(指定宽度)居中对齐　　#rt(指定宽度)右对齐<=0 表示气泡右边距

```
引擎.信息框(
[[
1234567891234567891234567895678912345678
#G#rt我是右对齐的一行
#R#md我是居中的一行
#W123456789123456789123456789
#Y#f(宋体14粗)#md完美的疾风炼狱
#md#p(道具底图,-21,0)#p(图标_炼狱,-48,0,46,46)
#f(宋体12)#W#md攻击：5-30
#W#md重量：8
#G#md攻击速度：+3
#W#md价格：3000金币
]]
)

```

### #bg

#bg

说明：自定义背景色。

`引擎.信息框( [[ 这是#bg(0,0,0,200)#c(0xF4C150FF)铁匠#bg(0)#W打造的一把#bg(0x0000FFFF)#c(0,240,0,240)终极武器#bg(0)! #md#bg(0,0,240,240)#W我是居中的一行 ]] ) `

| | `引擎.信息框( [[ 这是#bg(0,0,0,200)#c(0xF4C150FF)铁匠#bg(0)#W打造的一把#bg(0x0000FFFF)#c(0,240,0,240)终极武器#bg(0)! #md#bg(0,0,240,240)#W我是居中的一行 ]] ) ` |
| --- | --- |

```
引擎.信息框(
[[
这是#bg(0,0,0,200)#c(0xF4C150FF)铁匠#bg(0)#W打造的一把#bg(0x0000FFFF)#c(0,240,0,240)终极武器#bg(0)!

#md#bg(0,0,240,240)#W我是居中的一行
]]
)

```

### #z

#z

说明：插入占位符。

#z(宽度,高度,模式[可选],背景色[可选],边框宽[可选],边框色[可选]) 插入占位符，可以为负数，可产生分段对齐效果。 模式：0 影响全局段落 1 只影响当前位置 2 不影响任何 默认为0 使用背景色和边框色时,颜色值只能为十进制或十六进制 例：#z(158,100,1,0xDDDDDD66,-1,0xDDDD00FF) 绘制模式时,宽度设置 `-1` 表示自适应气泡宽度 #z(0,0)表示重置x偏移。 `引擎.信息框( [[ #z(32,32,2,0x00000066,-1,0xDDDD00FF)#z(4,4)#z(24,24,2,0x00ee0066)#z(34,16,0)这是一个#c(0xF4C150FF)丰富文本框 #z(0,0) #z(200,1,2,0xeeeeeeff) #z(0,0) #W这是一些极品装备： #z(0,16,1) #G#f(宋体14粗)炼狱#f(宋体12) #p(道具底图)#z(-48,0,1)#p(图标_炼狱,0,0,46,46)#z(48,-42) #W攻击：#c(200,200,0,200)10-20 #W防御：#c(200,200,0,200)10-20 #z(0,16,1) #z(0,0) #L#f(宋体14粗)铜锤#f(宋体12)#z(10,12) #W攻击：#c(200,200,0,200)10-20 #W防御：#c(200,200,0,200)10-20 ]] ) `

| | #z(宽度,高度,模式[可选],背景色[可选],边框宽[可选],边框色[可选]) 插入占位符，可以为负数，可产生分段对齐效果。 模式：0 影响全局段落 1 只影响当前位置 2 不影响任何 默认为0 使用背景色和边框色时,颜色值只能为十进制或十六进制 例：#z(158,100,1,0xDDDDDD66,-1,0xDDDD00FF) 绘制模式时,宽度设置 `-1` 表示自适应气泡宽度 #z(0,0)表示重置x偏移。 `引擎.信息框( [[ #z(32,32,2,0x00000066,-1,0xDDDD00FF)#z(4,4)#z(24,24,2,0x00ee0066)#z(34,16,0)这是一个#c(0xF4C150FF)丰富文本框 #z(0,0) #z(200,1,2,0xeeeeeeff) #z(0,0) #W这是一些极品装备： #z(0,16,1) #G#f(宋体14粗)炼狱#f(宋体12) #p(道具底图)#z(-48,0,1)#p(图标_炼狱,0,0,46,46)#z(48,-42) #W攻击：#c(200,200,0,200)10-20 #W防御：#c(200,200,0,200)10-20 #z(0,16,1) #z(0,0) #L#f(宋体14粗)铜锤#f(宋体12)#z(10,12) #W攻击：#c(200,200,0,200)10-20 #W防御：#c(200,200,0,200)10-20 ]] ) ` |
| --- | --- |

## #z(宽度,高度,模式[可选],背景色[可选],边框宽[可选],边框色[可选])

绘制模式时,宽度设置-1表示自适应气泡宽度#z(0,0)表示重置x偏移。

```
引擎.信息框(
[[
#z(32,32,2,0x00000066,-1,0xDDDD00FF)#z(4,4)#z(24,24,2,0x00ee0066)#z(34,16,0)这是一个#c(0xF4C150FF)丰富文本框
#z(0,0)
#z(200,1,2,0xeeeeeeff)
#z(0,0)
#W这是一些极品装备：
#z(0,16,1)
#G#f(宋体14粗)炼狱#f(宋体12)
#p(道具底图)#z(-48,0,1)#p(图标_炼狱,0,0,46,46)#z(48,-42)
#W攻击：#c(200,200,0,200)10-20
#W防御：#c(200,200,0,200)10-20
#z(0,16,1)
#z(0,0)
#L#f(宋体14粗)铜锤#f(宋体12)#z(10,12)
#W攻击：#c(200,200,0,200)10-20
#W防御：#c(200,200,0,200)10-20
]]
)

```

### #br

#br

说明：设置自动换行的宽度。

`引擎.信息框("#br(260)《海燕》是高尔基1901年3月写的一篇带有象征意义的短篇小说《春天的旋律》的末尾一章。#br(160)由于19世纪欧洲爆发的工业危机很快就蔓延到了俄国，在1900年到1903年的危机年代里，俄国倒闭了3000多家大小企业，被开除的工人达10万多人，#br(60)再加上沙皇统治日趋黑暗，人民群众无法忍受，反抗情绪日益高涨，革命斗争蓬勃兴起。#br(260)俄国工人运动开始从经济罢工转到政治罢工，转到游行示威，提出关于民主自由的政治要求，提出“打倒沙皇专制”的政治口号，动摇着沙皇统治的根基。") `

| | `引擎.信息框("#br(260)《海燕》是高尔基1901年3月写的一篇带有象征意义的短篇小说《春天的旋律》的末尾一章。#br(160)由于19世纪欧洲爆发的工业危机很快就蔓延到了俄国，在1900年到1903年的危机年代里，俄国倒闭了3000多家大小企业，被开除的工人达10万多人，#br(60)再加上沙皇统治日趋黑暗，人民群众无法忍受，反抗情绪日益高涨，革命斗争蓬勃兴起。#br(260)俄国工人运动开始从经济罢工转到政治罢工，转到游行示威，提出关于民主自由的政治要求，提出“打倒沙皇专制”的政治口号，动摇着沙皇统治的根基。") ` |
| --- | --- |

```
引擎.信息框("#br(260)《海燕》是高尔基1901年3月写的一篇带有象征意义的短篇小说《春天的旋律》的末尾一章。#br(160)由于19世纪欧洲爆发的工业危机很快就蔓延到了俄国，在1900年到1903年的危机年代里，俄国倒闭了3000多家大小企业，被开除的工人达10万多人，#br(60)再加上沙皇统治日趋黑暗，人民群众无法忍受，反抗情绪日益高涨，革命斗争蓬勃兴起。#br(260)俄国工人运动开始从经济罢工转到政治罢工，转到游行示威，提出关于民主自由的政治要求，提出“打倒沙皇专制”的政治口号，动摇着沙皇统治的根基。")

```

### #@链接

#@

说明：超链接效果，可以触发 热点 和 按下 事件。

#@触发标识@链接样式@ 链接样式支持文本,支持图片(鼠标焦点自带高亮效果)。 `触发标识如果中间有逗号分隔,回调事件中的参数会是一个被分割后的数组。` 例：#@小贩,购买,180@购买八十只美羊羊@ 回调事件中会接收到 {"小贩","购买","180"} `触发标识如果中间有\|分隔,可以设置链接样式。\|类型,默认色,点燃色,按下色` 类型： `0：下划线` `1：突出背景` `2：边框包围` 例：#@屠龙刀\|2,0xFFFFFFFF,0x00FF0066,0x000000FF@屠龙刀@ `引擎.信息框( [[#W你好~吃了吗？#L不要杀我！#G我是帮你测试#R接口的#W #md#Y#@回去@回上个地图@ #Y#@包裹空位检测@取包裹空位@ #z(0,16,1)#md#Y#@清空@一键清空包裹物品@ #Y#@小贩,购买,180@购买八十只美羊羊@]] ) ` 提示 超链接事件会统一回调到 `App.lua` 的系统事件中的 超链接

| | #@触发标识@链接样式@ 链接样式支持文本,支持图片(鼠标焦点自带高亮效果)。 `触发标识如果中间有逗号分隔,回调事件中的参数会是一个被分割后的数组。` 例：#@小贩,购买,180@购买八十只美羊羊@ 回调事件中会接收到 {"小贩","购买","180"} `触发标识如果中间有\|分隔,可以设置链接样式。\|类型,默认色,点燃色,按下色` 类型： `0：下划线` `1：突出背景` `2：边框包围` 例：#@屠龙刀\|2,0xFFFFFFFF,0x00FF0066,0x000000FF@屠龙刀@ `引擎.信息框( [[#W你好~吃了吗？#L不要杀我！#G我是帮你测试#R接口的#W #md#Y#@回去@回上个地图@ #Y#@包裹空位检测@取包裹空位@ #z(0,16,1)#md#Y#@清空@一键清空包裹物品@ #Y#@小贩,购买,180@购买八十只美羊羊@]] ) ` 提示 超链接事件会统一回调到 `App.lua` 的系统事件中的 超链接 |
| --- | --- |

## #@触发标识@链接样式@

触发标识如果中间有逗号分隔,回调事件中的参数会是一个被分割后的数组。例：#@小贩,购买,180@购买八十只美羊羊@ 回调事件中会接收到 {"小贩","购买","180"}

触发标识如果中间有|分隔,可以设置链接样式。|类型,默认色,点燃色,按下色类型：0：下划线1：突出背景2：边框包围例：#@屠龙刀|2,0xFFFFFFFF,0x00FF0066,0x000000FF@屠龙刀@

```
引擎.信息框(
[[#W你好~吃了吗？#L不要杀我！#G我是帮你测试#R接口的#W
#md#Y#@回去@回上个地图@ #Y#@包裹空位检测@取包裹空位@
#z(0,16,1)#md#Y#@清空@一键清空包裹物品@ #Y#@小贩,购买,180@购买八十只美羊羊@]]
)

```

提示

超链接事件会统一回调到App.lua的系统事件中的超链接

### #item

#item

说明：道具显示标签。

#item(道具名称,道具数量[可选]) 填写的是道具组件的名称，显示的气泡内容是道具组件中的气泡提示 背景框是App.lua中的道具格子底图 `引擎.信息框("这是铁匠给你的奖励#z(0,8,1) #item(八荒刀)#item(金币100,50)#item(金创药小,4)#z(0,-8,1) 收下吧!") `

| | #item(道具名称,道具数量[可选]) 填写的是道具组件的名称，显示的气泡内容是道具组件中的气泡提示 背景框是App.lua中的道具格子底图 `引擎.信息框("这是铁匠给你的奖励#z(0,8,1) #item(八荒刀)#item(金币100,50)#item(金创药小,4)#z(0,-8,1) 收下吧!") ` |
| --- | --- |

## #item(道具名称,道具数量[可选])

```
引擎.信息框("这是铁匠给你的奖励#z(0,8,1) #item(八荒刀)#item(金币100,50)#item(金创药小,4)#z(0,-8,1) 收下吧!")

```

提示

下面是一些常用示例

```
#z(0,0)#z(4,4)#z(110,20,2,0x00000066,-1,0xDDDDDD66)#z(116,0)#z(110,20,2,0x00000066,-1,0xDDDDDD66)\n#z(8,-24)#W生命\n#z(0,-28)\n#G#rt(100)111\n#z(0,0)#z(120,-28)#W法力\n#z(0,-28)\n#G#rt(100)112
#z(0,0)#z(4,4)#z(110,20,2,0x00000066,-1,0xDDDDDD66)#z(116,0)#z(110,20,2,0x00000066,-1,0xDDDDDD66)\n#z(8,-24)#W伤害\n#z(0,-28)\n#G#rt(100)22222\n#z(0,0)#z(120,-28)#W护甲\n#z(0,-28)\n#G#rt(100)112555454
#z(0,0)#z(4,4)#z(110,20,2,0x00000066,-1,0xDDDDDD66)#z(116,0)#z(110,20,2,0x00000066,-1,0xDDDDDD66)\n#z(8,-24)#W命中\n#z(0,-28)\n#G#rt(100)33\n#z(0,0)#z(120,-28)#W躲避\n#z(0,-28)\n#G#rt(100)1125

```

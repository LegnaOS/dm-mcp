# 文本框

支持模板变量。

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 文本框 表示这是一个文本框控件 |
| 名称 | 文本 | true | 窗口中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 宽度 | 整数 | false | |
| 高度 | 整数 | false | |
| 内容 | 文本 | false | 支持丰富文本标签 |
| 字体 | 文本 | false | 内容默认字体 |
| 行距 | 整数 | false | |
| 间距 | 整数 | false | |
| 文本色 | RGBA | false | 内容文本色 |
| 背景色 | RGBA | false | 文本框背景色 |
| 描边色 | RGBA | false | 内容描边色 |
| 边框宽度 | 整数 | false | 文本框边框宽度 |
| 边框色 | RGBA | false | 文本框边框色 |
| 圆角半径 | 整数 | false | |
| 圆角边数 | 整数 | false | |
| 内边距 | table | false | 左,上,右,下 例：{4,4,4,4} |
| 打字间隔 | 整数 | false | 文本框中打字间隔,越大越慢, 默认：0，无打字效果。 |
| 滚动条位置 | 整数 | false | 0:右侧 1:左侧 2:隐藏 |
| 气泡提示 | 文本 | false | 链接获得焦点时显示 |
| 气泡皮肤 | 文本 | false | |
| 数据源 | table | false | |
| 附加 | table | false | 自定义变量 |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 系统事件 | table | false | |

```
{
 名称 = "文本框1",
 类型 = "文本框",
 x = 10,
 y = 200,
 宽度 = 220,
 高度 = 160,
 内容 = [[这是一个#G丰富#H文本框#W我们都#bg(0,0,255,255)喜欢#G文本框#bg(0)#W1234丰富5这是一个#f(宋体14粗)#G丰富文本框#f(宋体12)#W我们都喜欢用
 #z(32,32,2,0x00000066,-1,0xDDDD00FF)#z(4,4)#z(24,24,2,0x00ee0066)#z(34,16,0)这是这是一个#c(0xF4C150FF)丰富文本框
 #W我们都喜欢用#z(0,0)
 #md我们都喜欢用
 #rt我们都喜欢用
 我们都#p(技能图标图集|1990500115)喜欢用这#p(技能图标图集|1990500002)是一个#c(0xF4C150FF)丰#p(技能图标图集|1990500125)富文本框热热热热热热
 #W这是一个#c(0xF4C150FF)丰富文本框
 #W这是#@治疗术@#p(技能图标图集|1990500205)@ #@火球术@#p(技能图标图集|1990500101)@一个#c(0xF4C150FF)丰富文本框
 #Y#@回去@回上个地图@ #Y#@包裹空位检测@取包裹空位@]],
 背景色 = RGBA(20,20,20,200),
 文本色 = RGBA(240,240,240,255),
 描边色 = RGBA(0,0,0,200),
 字体 = "宋体12",
 间距 = 1,
 行距 = 2,
 滚动条位置 = 0,
},

```

提示

超链接事件会统一回调到App.lua的系统事件中的超链接

## 属性

### 可视

- 类型：逻辑
- 说明：是否显示控件

### 父窗口

- 类型：窗口对象
- 读写：只读
- 说明：控件的父窗口对象

```
调试输出(文本框1.父窗口.名称)

```

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变控件的显示层级，值越大越先显示。

### 边框色

- 类型：RGBA
- 读写：读写
- 说明：动态改变控件的边框颜色。

### 背景色

- 类型：RGBA
- 读写：读写
- 说明：动态改变控件的背景颜色。

### 内容

- 类型：文本
- 读写：只写
- 说明：重置文本框中的内容。

```
文本框1.内容 = "#W新内容"

```

### 位置

- 类型：整数
- 说明：文本框中内容显示位置。

```
文本框1.位置 = 0 -- 保证显示到第一行

```

### 打字间隔

- 类型：整数
- 说明：文本框中打字间隔,越大越慢,0:取消打字。

### 气泡提示

- 类型：文本
- 说明：链接获得焦点时会弹出气泡提示。

### 附加

- 类型：table
- 读写：读写
- 说明：读写控件的附加信息。

## 方法

### 加入内容

加入内容

说明：往文本框中加入新行。

参数名称 值的类型 是否必填 说明描述 内容 文本 true 支持丰富文本 保证显示 逻辑 false 是否滚动到底部 默认：true 示例 `文本框1.加入内容("#W一行新内容~~")`

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 内容 | 文本 | true | 支持丰富文本 |
| 保证显示 | 逻辑 | false | 是否滚动到底部 默认：true |

## 示例

```
文本框1.加入内容("#W一行新内容~~")

```

## 系统事件

### 🔹 热点

文本框中链接获得鼠标焦点时触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 文本框 | 文本框对象 | |
| 信息 | table | {链接,x,y,宽度} |

## 示例

```
系统事件 = {
 热点 = function(文本框,信息)
 local 气泡内容 = 文本框.父窗口.附加.气泡展示[信息.链接]
 if(气泡内容) then
 文本框.气泡提示 = 气泡内容
 end
 end,
}

```

### 🔹 点击

文本框被鼠标左键点击时响应

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 文本框 | 文本框对象 | |
| 信息 | table / nil | 如果点到链接也会返回相关链接信息 否则为 nil |

## 示例

```
系统事件 = {
 点击 = function(文本框,信息)
 if (信息 == nil) then
 文本框.打字间隔 = 文本框.打字间隔 - 2		-- 加速出字
 end
 end,
}

```

### 🔹 打字结束

文本框有打字间隔时,打字完成后触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 文本框 | 文本框对象 | |

## 示例

```
系统事件 = {
 打字结束 = function(文本框)
 调试输出(文本框.名称,"打字结束")
 end
}

```

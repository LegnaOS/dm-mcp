# 选择夹

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 选择夹 表示这是一个选择夹控件 |
| 名称 | 文本 | true | 窗口中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 宽度 | 整数 | false | |
| 高度 | 整数 | false | |
| 隐藏表头 | 逻辑 | false | |
| 字体 | 文本 | false | 表头字体 |
| 文字间距 | 整数 | false | 表头标题间距 |
| 边框宽度 | 整数 | false | 选择夹边框宽度 0：无边框 |
| 边框色 | RGBA | false | 选择夹边框色 |
| 背景色 | RGBA | false | 选择夹背景色 |
| 圆角半径 | 整数 | false | |
| 圆角边数 | 整数 | false | |
| 表头底图 | 文本 | false | |
| 表头九宫 | table | false | |
| 表头间距 | 整数 | false | |
| 表头内边距 | table | false | |
| 表头背景默认色 | RGBA | false | |
| 表头背景选中色 | RGBA | false | |
| 表头标题默认色 | RGBA | false | |
| 表头标题选中色 | RGBA | false | |
| 表头标题描边色 | RGBA | false | |
| 表头边框色 | RGBA | false | |
| 表头边框宽度 | 整数 | false | |
| 表头选中偏移 | 整数 | false | |
| 皮肤 | 文本 | false | 缺省状态下使用App.lua中的[选择夹]皮肤,设置 "无" 表示不使用任何皮肤 |
| 子夹 | table {} | false | |
| 附加 | table | false | 自定义变量 |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 系统事件 | table | false | |

```
{
 名称 = "选择夹1",
 类型 = "选择夹",
 x = 288,
 y = 200,
 宽度 = 200,
 高度 = 150,
 系统事件 = {
 创建 = function (选择夹对象)
 --	选择夹对象.现行子夹 = "子夹2"
 end,
 子夹被改变 = function (选择夹对象)
 调试输出(选择夹对象.现行子夹)
 end,
 },
 子夹 = {
 {
 名称 = "子夹1",
 标题 = "子夹1",
 控件 = {
 {
 名称 = "标签1",
 类型 = "标签",
 x = 4,
 y = 34,
 宽度 = 80,
 高度 = 20,
 标题 = "子夹1",
 文本色 = RGBA(240,240,240,255),
 描边色 = RGBA(0,0,0,200)
 },
 {
 名称 = "测试按钮",
 类型 = "按钮",
 x = 4,
 y = 70,
 宽度 = 64,
 高度 = 30,
 标题 = "按钮1",
 系统事件 = {
 点击 = function(按钮对象)
 调试输出(按钮对象.名称,按钮对象.父窗口.名称)
 end
 }
 },
 }
 },
 {
 名称 = "子夹2",
 标题 = "角色装备",
 控件 = {
 {
 名称 = "标签2",
 类型 = "标签",
 x = 4,
 y = 34,
 宽度 = 80,
 高度 = 20,
 标题 = "子夹2",
 文本色 = RGBA(240,240,240,255),
 描边色 = RGBA(0,0,0,200)
 },
 }
 } ,
 {
 名称 = "子夹3",
 标题 = "设置",
 控件 = {
 {
 名称 = "标签3",
 类型 = "标签",
 x = 4,
 y = 34,
 宽度 = 80,
 高度 = 20,
 标题 = "子夹3",
 文本色 = RGBA(240,240,240,255),
 描边色 = RGBA(0,0,0,200)
 },
 }
 }
 }

}

```

## 子夹

- 子夹配置项是一个数组，每个数组成员都由 {名称标题控件}组成 。控件列表同窗口中的控件配置相同。
- 子夹中的控件对象仍然属于窗口,可以使用窗口.控件名称访问，注意不要重名。

## 属性

### 名称

- 类型：文本
- 读写：只读
- 说明：控件的名称

### 父窗口

- 类型：窗口对象
- 读写：只读
- 说明：控件的父窗口对象

```
调试输出(选择夹1.父窗口.名称)

```

### 可视

- 类型：逻辑
- 读写：读写
- 说明：是否显示控件

### x

- 类型：数值
- 读写：读写
- 说明：坐标x。

### y

- 类型：数值
- 读写：读写
- 说明：坐标y。

### 宽度

- 类型：数值
- 读写：读写
- 说明：读写选择夹宽度。

### 高度

- 类型：数值
- 读写：读写
- 说明：读写选择夹高度。

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变控件的显示层级，值越大越先显示。

### 子夹数量

- 类型：整数
- 读写：只读
- 说明：取出当前表头子夹数量

### 子夹组

- 类型：table
- 读写：只读
- 说明：取出当前表头子夹信息{{名称=,标题=},{名称=,标题=}...}

### 现行子夹

- 类型：文本
- 读写：读写
- 说明：取出当前选中的子夹名称或者切换当前选中的子夹

### 现行索引

- 类型：整数
- 读写：读写
- 说明：取出当前选中的子夹索引或者切换当前选中的子夹

### 附加

- 类型：table
- 读写：读写
- 说明：读写控件的附加信息。

## 方法

### 隐藏子夹

隐藏子夹

说明：隐藏或显示指定子夹。

参数名称 值的类型 是否必填 说明描述 子夹名称/子夹索引 文本/整数 true 是否隐藏 逻辑 false 示例 `local 选择夹 = 引擎.窗口.角色窗口.选择夹1`

选择夹.隐藏子夹(选择夹.现行子夹,true)

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 子夹名称/子夹索引 | 文本/整数 | true | |
| 是否隐藏 | 逻辑 | false | |

## 示例

```
local 选择夹 = 引擎.窗口.角色窗口.选择夹1
选择夹.隐藏子夹(选择夹.现行子夹,true)

```

### 添加子夹

添加子夹

说明：动态添加子夹。

参数名称 值的类型 是否必填 说明描述 名称 文本 true 标题 文本 true 示例 `local 选择夹 = 引擎.窗口.角色窗口.选择夹1`

选择夹.添加子夹("新子夹","新子夹"); -- 名称,标题

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 名称 | 文本 | true | |
| 标题 | 文本 | true | |

## 示例

```
local 选择夹 = 引擎.窗口.角色窗口.选择夹1
选择夹.添加子夹("新子夹","新子夹"); -- 名称,标题

```

### 删除子夹

删除子夹

说明：动态删除子夹。子夹内组件必须为空。

参数名称 值的类型 是否必填 说明描述 名称/索引 文本/整数 true 示例 `local 选择夹 = 引擎.窗口.角色窗口.选择夹1`

选择夹.删除子夹(1)

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 名称/索引 | 文本/整数 | true | |

## 示例

```
local 选择夹 = 引擎.窗口.角色窗口.选择夹1
选择夹.删除子夹(1)

```

### 修改标题

修改标题

说明：修改指定子夹表头标题。

参数名称 值的类型 是否必填 说明描述 子夹名称/子夹索引 文本/整数 true 标题 文本 true 示例 `local 选择夹 = 引擎.窗口.角色窗口.选择夹1`

for n=1,选择夹.子夹数量 do
 选择夹.修改标题(n,"子夹" .. n)
end

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 子夹名称/子夹索引 | 文本/整数 | true | |
| 标题 | 文本 | true | |

## 示例

```
local 选择夹 = 引擎.窗口.角色窗口.选择夹1
for n=1,选择夹.子夹数量 do
 选择夹.修改标题(n,"子夹" .. n)
end

```

## 系统事件

## 🔹 创建

子夹被创建时触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 选择夹 | 选择夹对象 | |

## 示例

```
系统事件 = {
 创建 = function (选择夹对象)
 	选择夹对象.现行子夹 = "子夹2"
 end,
}

```

## 🔹 点击

- 子夹表头被点击时触发
- 返回false可以拦截子夹跳转。

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 选择夹 | 选择夹对象 | |
| 子夹索引 | 整数 | |
| 键值 | 整数 | 0：左键 1：右键 2：中键。 |
| 功能键 | 整数 | `1：Ctrl` `2：Shift` `3：Alt` 是否处于按下状态 |

## 示例

```
系统事件 = {
 点击 = function (选择夹对象,索引,键值,功能键)
 	if (索引 == 1) then
 return false -- 拦截跳转事件
 end
 end,
}

```

## 🔹 子夹被改变

子夹被改变时触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 选择夹 | 选择夹对象 | |
| 子夹索引 | 整数 | |

## 示例

```
系统事件 = {
 子夹被改变 = function (选择夹对象,索引)
 调试输出(选择夹对象.现行子夹,索引)
 end,
}

```

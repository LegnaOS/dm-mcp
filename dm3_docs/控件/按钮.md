# 按钮

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 按钮 表示这是一个按钮控件 |
| 名称 | 文本 | true | 窗口中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 宽度 | 整数 | false | |
| 高度 | 整数 | false | |
| 标题 | 文本 | false | |
| 字体 | 文本 | false | 资源标识 |
| 行距 | 整数 | false | |
| 间距 | 整数 | false | |
| 文本色 | table {} | false | 一个RGBA颜色数组 {默认色,点燃色,按下色} |
| 描边色 | RGBA | false | |
| 底图 | 文本 | false | 资源标识 |
| 九宫 | table | false | 底图的九宫描述 |
| 编组 | 整数 | false | 所有相同编组的按钮会变成开关模式 |
| 选中 | 逻辑 | false | 默认是否选中 |
| 禁用 | 逻辑 | false | 默认是否禁用 |
| 三层按钮 | 逻辑 | false | 是否是三层按钮 默认：true |
| 皮肤 | 文本 | false | 按钮使用的皮肤 |
| 气泡提示 | 文本 | false | |
| 气泡皮肤 | 文本 | false | |
| 附加 | table | false | 自定义变量 |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 系统事件 | table | false | |

```

资源表 = {
 {标识="包裹按钮",文件="dmstore_TJ98JtwDl4DMyJlcCbEPlEDNCPlKDcsB"}
},
控件 = {
 {
 名称 = "测试按钮",
 类型 = "按钮",
 x = 20,
 y = 200,
 宽度 = 100,
 高度 = 34,
 标题 = "测试按钮",
 系统事件 = {
 点击 = function(按钮对象)
 调试输出("点击",按钮对象.名称)
 end
 }
 },
 {
 名称 = "包裹按钮",
 类型 = "按钮",
 x = 200,
 y = 200,
 底图 = "包裹按钮",
 系统事件 = {
 点击 = function(按钮对象)
 调试输出("点击",按钮对象.名称)
 end
 }
 },
}

```

提示

按钮是常用控件，App.lua中为他准备了缺省的全局皮肤按钮，你也可以自己创建按钮皮肤使用。

## 属性

### 可视

- 类型：逻辑
- 读写：读写
- 说明：是否显示控件

### 父窗口

- 类型：窗口对象
- 读写：只读
- 说明：控件的父窗口对象

```
调试输出(按钮1.父窗口.名称)

```

### 名称

- 类型：文本
- 读写：只读
- 说明：控件的名称。

### x

- 类型：数值
- 读写：读写
- 说明：坐标x。

### y

- 类型：数值
- 读写：读写
- 说明：坐标y。

### 内容宽度

- 类型：整数
- 读写：只读
- 说明：按钮标签文本宽度。

### 内容高度

- 类型：整数
- 读写：只读
- 说明：按钮标签文本高度。

### 宽度

- 类型：整数
- 读写：读写
- 说明：读取/修改按钮宽度。

### 高度

- 类型：整数
- 读写：读写
- 说明：读取/修改按钮高度。

### 标题

- 类型：文本
- 读写：读写
- 说明：读写按钮的标题。

### 选中

- 类型：逻辑
- 读写：读写
- 说明：配置编组使用，选中后其他相同编组的按钮状态变成按下。

### 禁用

- 类型：逻辑
- 读写：读写
- 说明：是否禁用

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变控件的显示层级，值越大越先显示。

```
系统事件 = {
 点击 = function(按钮对象)
 local 窗口对象 = 引擎.窗口.属性窗口
 窗口对象.角色按钮.次序 = 0
 窗口对象.包裹按钮.次序 = 0
 窗口对象.技能按钮.次序 = 1
 end
}

```

### 气泡提示

- 类型：文本
- 读写：读写
- 说明：读写按钮的气泡提示。

### 附加

- 类型：table
- 读写：读写
- 说明：读写控件的附加信息。

## 方法

### 添加节点

添加节点

说明：在控件上添加一个节点，成功返回节点对象。

参数名称 值的类型 是否必填 说明描述 组件配置 table true `文本,动画...等基石组件` 示例 `属性按钮.添加节点(`

{
 名称 = "红点动画",
 类型 = "动画",
 x = 30,
 y = 4,
 动画 = "红点动画",
 动作 = "动画",
})

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 组件对象 | 对象对象 / nil | 失败返回 nil |

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 组件配置 | table | true | `文本,动画...等基石组件` |

## 示例

```
属性按钮.添加节点(
{
 名称 = "红点动画",
 类型 = "动画",
 x = 30,
 y = 4,
 动画 = "红点动画",
 动作 = "动画",
})

```

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 组件对象 | 对象对象 / nil | 失败返回 nil |

### 取出节点

取出节点

说明：从节点名称取出节点对象。

参数名称 值的类型 是否必填 说明描述 组件名称 文本 false 示例 `local 特效节点 = 按钮对象.取出节点("红点动画")`

if (特效节点) then
 特效节点.可视 = false
end

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 组件对象 | 对象 / nil | 取出失败返回 nil |

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 组件名称 | 文本 | false | |

## 示例

```
local 特效节点 = 按钮对象.取出节点("红点动画")
if (特效节点) then
 特效节点.可视 = false
end

```

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 组件对象 | 对象 / nil | 取出失败返回 nil |

### 清除节点

清除节点

说明：清除节点。 销毁模式，清除后不可再次调用！

参数名称 值的类型 是否必填 说明描述 组件名称 文本/组件对象 false 示例 `按钮对象.清除节点("红点动画")`

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 是否成功 | 逻辑 | |

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 组件名称 | 文本/组件对象 | false | |

## 示例

```
按钮对象.清除节点("红点动画")

```

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 是否成功 | 逻辑 | |

## 系统事件

### 🔹 点击

控件被点击时触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 按钮 | 按钮对象 | |

## 示例

```
系统事件 = {
 点击 = function(按钮对象)
 调试输出(按钮对象.名称)
 end
}

```

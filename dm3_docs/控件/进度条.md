# 进度条

进度条控件，支持模板变量。

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 进度条 表示这是一个进度条控件 |
| 名称 | 文本 | true | 窗口中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 宽度 | 整数 | true | |
| 高度 | 整数 | true | |
| 最小值 | 整数 | true | |
| 最大值 | 整数 | true | |
| 位置 | 整数 | true | |
| 背景色 | RGBA | false | |
| 前景色 | RGBA | false | |
| 过渡色 | RGBA | false | 位置变化时产生过渡效果,目前只有 `进度模式 0` 有效 |
| 边框宽度 | 整数 | false | |
| 边框色 | RGBA | false | |
| 圆角半径 | 整数 | false | |
| 圆角边数 | 整数 | false | |
| 进度模式 | 整数 | true | 0:左->右 1:下->上 2:右->左 3:上->下 |
| 底图 | 文本 | false | 资源标识 |
| 动画 | 文本 | false | 动画资源标识,动作名 |
| 气泡提示 | 文本 | false | 需要开启 `鼠标事件` 才有效 |
| 气泡皮肤 | 文本 | false | |
| 鼠标事件 | 逻辑 | false | 是否响应鼠标事件,默认 `true` |
| 数据源 | table | false | 设置一个数据源,进度条会自动变化 |
| 附加 | table | false | 自定义变量 |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 系统事件 | table | false | |

```
{
 名称 = "进度条1",
 类型 = "进度条",
 x = 40,
 y = 360,
 宽度 = 200,
 高度 = 10,
 最小值 = 0,
 最大值 = 100,
 位置 = 50,
 背景色 = RGBA(30,30,30,255),
 前景色 = RGBA(200,200,0,200),
 边框色 = RGBA(240,240,240,255),
 边框宽度 = 1,
 进度模式 = 0 -- 0 从左往右 1 从下往上 2 从右往左 3 从上往下
},

-- 数据源模式
{
 名称 = "进度条2",
 类型 = "进度条",
 x = 40,
 y = 360,
 宽度 = 200,
 高度 = 10,
 最小值 = 0,
 最大值 = "&需要经验&",
 位置 = "&经验值&",
 背景色 = RGBA(30,30,30,255),
 前景色 = RGBA(200,200,0,200),
 边框色 = RGBA(240,240,240,255),
 边框宽度 = 1,
 进度模式 = 0, -- 0 从左往右 1 从下往上 2 从右往左 3 从上往下
 数据源 = {需要经验=260,经验值=80}
},

{
 名称 = "红血球",
 类型 = "进度条",
 默认可视 = true,
 x = 246,
 y = -30,
 宽度 = 120,
 高度 = 10,
 最小值 = 0,
 最大值 = "&maxhp&",
 位置 = "&hp&",
 背景色 = RGBA(30,30,30,0),
 前景色 = RGBA(160,160,160,200),
 边框色 = RGBA(240,240,240,255),
 边框宽度 = 0,
 底图 = "生命球",
 动画 = "红血球动画,动画",
 进度模式 = 1
},

```

提示

缺省数据源是系统变量，包括自定义变量。详见数据源。

## 属性

### 可视

- 类型：逻辑
- 读写：读写
- 说明：是否显示控件

### 父窗口

- 类型：窗口对象
- 读写：只读
- 说明：控件的父窗口对象

```
调试输出(进度条1.父窗口.名称)

```

### 名称

- 类型：文本
- 读写：只读
- 说明：控件的名称。

### x

- 类型：数值
- 读写：读写
- 说明：坐标x。

### y

- 类型：数值
- 读写：读写
- 说明：坐标y。

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变控件的显示层级，值越大越先显示。

### 宽度

- 类型：整数
- 读写：只读
- 说明：控件的宽度。

### 高度

- 类型：整数
- 读写：只读
- 说明：控件的高度。

### 底图

- 类型：文本
- 读写：读写
- 说明：图片类型的资源标识，动态改变进度条的底图。

### 气泡提示

- 类型：文本
- 读写：读写
- 说明：读写控件的气泡提示。

### 位置

- 类型：数值
- 读写：读写
- 说明：当前进度条的位置。

### 最小值

- 类型：数值
- 读写：读写
- 说明：当前进度条的最小值。

### 最大值

- 类型：数值
- 读写：读写
- 说明：当前进度条的最大值。

### 数据源

- 类型：table
- 读写：读写
- 说明：取出/设置数据源。

### 附加

- 类型：table
- 读写：读写
- 说明：读写控件的附加信息。

## 系统事件

### 🔹 创建

控件创建后触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 进度条 | 进度条对象 | |

## 示例

```
系统事件 = {
 创建 = function (进度条)
 调试输出(进度条.名称)
 end
}

```

### 🔹 位置变化

进度条数值发生变化后触发

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 进度条 | 进度条对象 | |
| 位置 | 整数 | |
| 最小值 | 整数 | |
| 最大值 | 整数 | |

## 示例

```
系统事件 = {
 位置变化 = function (进度条,位置,最小值,最大值)
 调试输出(进度条.名称,位置,最小值,最大值)
 end
}

```

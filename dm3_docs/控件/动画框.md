# 动画框

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 动画框 表示这是一个动画框控件 |
| 名称 | 文本 | true | 窗口中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 动画 | 文本 | false | 动画素材 |
| 动作 | 文本 | false | 默认播放的动作 |
| 水平缩放 | 数值 | false | |
| 垂直缩放 | 数值 | false | |
| 循环播放 | 逻辑 | false | |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 附加 | table | false | 自定义变量 |
| 鼠标事件 | 逻辑 | false | 是否响应鼠标事件 默认：false |
| 系统事件 | table | false | |

```
{
 名称 = "动画框1",
 类型 = "动画框",
 x = 100,
 y = 200,
 动画 = "稻草人",
 动作 = "停止_4",
 循环播放 = true,
},

```

## 属性

### 可视

- 类型：逻辑
- 读写：读写
- 说明：是否显示控件

### 父窗口

- 类型：窗口对象
- 读写：只读
- 说明：控件的父窗口对象

```
调试输出(文本框1.父窗口.名称)

```

### x

- 类型：整数
- 读写：读写
- 说明：控件在窗口上的x坐标

### y

- 类型：整数
- 读写：读写
- 说明：控件在窗口上的y坐标

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变控件的显示层级，值越大越先显示。

### 水平缩放

- 类型：数值
- 读写：读写
- 说明：动画在窗口上的水平缩放

### 垂直缩放

- 类型：数值
- 读写：读写
- 说明：控件在窗口上的垂直缩放

### 动画

- 类型：文本
- 读写：读写
- 说明：改变动画框中的动画。

```
引擎.窗口.角色窗口.动画框1.动画 = "毒蜘蛛"

```

### 动作

- 类型：文本
- 读写：读写
- 说明：改变动画框中播放的动作。

```
引擎.窗口.角色窗口.动画框1.动作 = "攻击_4"

```

### 灯光

- 类型：RGBA
- 读写：读写
- 说明：取出或者设置一个颜色值可以改变亮度。

### 透明度

- 类型：小数
- 读写：读写
- 说明：取值范围 0-1

### 附加

- 类型：table
- 读写：读写
- 说明：读写控件的附加信息。

## 方法

### 播放

播放

说明：按顺序播放动作列表，在最后一个动作停留并重复播放。

参数名称 值的类型 是否必填 说明描述 动作列表 table {} true call function false 回调函数 动作结束后触发 触发位置 整数 false 在倒数第几个动作播放后触发call 默认：0 示例 `引擎.窗口.角色窗口.动画框1.播放({"攻击_4","停止_4"},function()`

 调试输出("动作结束")
end)

引擎.窗口.角色窗口.动画框1.播放({"攻击_4,0","攻击_4,1","死亡_4,0,1"}) -- 为动作设置更多细节

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 动作列表 | table {} | true | |
| call | function | false | 回调函数 动作结束后触发 |
| 触发位置 | 整数 | false | 在倒数第几个动作播放后触发call 默认：0 |

## 示例

```
引擎.窗口.角色窗口.动画框1.播放({"攻击_4","停止_4"},function()
 调试输出("动作结束")
end)

引擎.窗口.角色窗口.动画框1.播放({"攻击_4,0","攻击_4,1","死亡_4,0,1"}) -- 为动作设置更多细节

```

## 系统事件

### 🔹 焦点

控件焦点变化时触发, 需要启用鼠标事件

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 动画框 | 动画框对象 | |
| 焦点状态 | 逻辑 | |

## 示例

```
系统事件 = {
 焦点 = function(动画框,焦点状态)
 if (焦点状态) then
 动画框.灯光 = RGBA(255,255,255,60)
 else
 动画框.灯光 = nil
 end
 end,
}

```

### 🔹 点击

控件被点击时触发, 需要启用鼠标事件

| 回调参数 | 类型 | 说明描述 |
| --- | --- | --- |
| 动画框 | 动画框对象 | |

## 示例

```
系统事件 = {
 点击 = function(动画框)
 引擎.创建缓动().to(动画框,{透明度=0},300)
 end,
}

```

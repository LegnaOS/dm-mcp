# 角色框

- 将角色当前的内观，外观显示到控件上，会与角色装备中的道具联动。
- 默认绑定角色是主角

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 角色框 表示这是一个角色框控件 |
| 名称 | 文本 | true | 窗口中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 宽度 | 整数 | false | |
| 高度 | 整数 | false | |
| 背景色 | RGBA | false | |
| 边框色 | RGBA | false | |
| 边框宽度 | 整数 | false | |
| 偏移x | 整数 | false | 内部对象显示偏移 |
| 偏移y | 整数 | false | 内部对象显示偏移 |
| 显示类型 | 整数 | false | 0：外观 1：内观 2：状态 |
| 缩放比例 | 数值 | false | 默认：1.0 |
| 气泡皮肤 | 文本 | false | 气泡在显示类型2 状态模式下才会显示 |
| 状态样式 | table | false | 显示类型2 状态模式下有效,默认：{宽度 = 32, 高度 = 32, 列数 = 6, 间距 = 2, 行距 = 20} |
| 附加 | table | false | 自定义变量 |
| 默认可视 | 逻辑 | false | 默认是否显示 |

```
{
 名称 = "角色展示",
 类型 = "角色框",
 x = 140,
 y = 160,
 显示类型 = 1,
},

{
 名称 = "状态展示",
 类型 = "角色框",
 宽度 = 180,
 高度 = 50,
 x = 70,
 y = 50,
 显示类型 = 2,
 边框宽度 = 1,
 边框色 = RGBA(132,132,0,255),
 背景色 = RGBA(32,32,32,255),
 状态样式 = {宽度 = 32, 高度 = 32, 列数 = 6, 间距 = 2, 行距 = 20},
},

```

## 属性

### 可视

- 类型：逻辑
- 读写：读写
- 说明：是否显示控件

### 父窗口

- 类型：窗口对象
- 读写：只读
- 说明：控件的父窗口对象

```
调试输出(角色框1.父窗口.名称)

```

### 名称

- 类型：文本
- 读写：只读
- 说明：控件的名称。

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变控件的显示层级，值越大越先显示。

### 附加

- 类型：table
- 读写：读写
- 说明：读写控件的附加信息。

### 角色对象

- 类型：角色组件对象
- 读写：读写
- 说明：取出/修改角色框当前绑定的角色对象。

```
键盘按下 = function (按键信息)

 if(按键信息.code == 57) then -- 空格键

 local 焦点角色 = 引擎.地图.地图信息.焦点
 if (焦点角色 ~= nil) then
 引擎.窗口.角色窗口.角色展示.角色对象 = 焦点角色
 end
 end

end,

```

## 方法

### 播放动作

播放动作

说明：播放动作,只有外观模式下有效。

参数名称 值的类型 是否必填 说明描述 动作名称 文本 true 方向 整数 false 0-7 示例 `键盘按下 = function (按键信息)`

 if(按键信息.code == 57) then -- 空格键
 local 角色框 = 引擎.窗口.角色窗口.角色展示
 local 方向 = 角色框.附加.方向 or 0

 if (方向 &gt; 7) then
 方向 = 0
 end

 角色框.播放动作("停止",方向)

 角色框.附加.方向 = 方向 + 1
 end

end,

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 动作名称 | 文本 | true | |
| 方向 | 整数 | false | 0-7 |

## 示例

```
键盘按下 = function (按键信息)

 if(按键信息.code == 57) then -- 空格键
 local 角色框 = 引擎.窗口.角色窗口.角色展示
 local 方向 = 角色框.附加.方向 or 0

 if (方向 > 7) then
 方向 = 0
 end

 角色框.播放动作("停止",方向)

 角色框.附加.方向 = 方向 + 1
 end

end,

```

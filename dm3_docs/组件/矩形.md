# 矩形

## 配置项

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 矩形 表示这是一个矩形组件 |
| 名称 | 文本 | true | 节点中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 宽度 | 整数 | false | |
| 高度 | 整数 | false | |
| 背景色 | RGBA | false | |
| 边框宽度 | 整数 | false | |
| 边框色 | RGBA | false | |
| 圆角半径 | 整数 | false | |
| 圆角边数 | 整数 | false | |
| 锚点x | 小数 | false | |
| 锚点y | 小数 | false | |
| 水平缩放 | 小数 | false | |
| 垂直缩放 | 小数 | false | |
| 进度 | 整数 | false | 0-100 |
| 图片 | 文本 | false | 底图,图片类型资源标识 |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 气泡提示 | 文本 | false | |
| 气泡皮肤 | 文本 | false | |
| 鼠标事件 | 逻辑 | false | 是否接收鼠标事件 |

```
{
 名称 = "转盘指针",
 类型 = "矩形",
 默认可视 = true,
 宽度 = 80,
 高度 = 40,
 x = 100,
 y = 100,
 锚点x = 0.5,
 锚点y = 0.5,
 水平缩放 = 1.5,
 垂直缩放 = 1.5,
 进度 = 10,
 圆角半径 = 4,
 圆角边数 = 8,
 背景色 = RGBA(30,30,30,255),
 边框宽度 = 1,
 边框色 = RGBA(222,222,222,255),
 鼠标事件 = true, -- 是否接收鼠标事件
},

```

## 属性

### 可视

- 类型：逻辑
- 说明：是否显示组件

### 名称

- 类型：文本
- 读写：只读
- 说明：组件的名称。

### 类型

- 类型：文本
- 读写：只读
- 说明：组件的类型。

### x

- 类型：整数
- 读写：读写
- 说明：组件的x坐标。

### y

- 类型：整数
- 读写：读写
- 说明：组件的y坐标。

### 宽度

- 类型：整数
- 读写：读写
- 说明：组件的宽度。

### 高度

- 类型：整数
- 读写：读写
- 说明：组件的高度。

### 背景色

- 类型：RGBA
- 读写：读写
- 说明：读写背景色。

### 边框宽度

- 类型：整数
- 读写：读写
- 说明：读写边框宽度。

### 边框色

- 类型：RGBA
- 读写：读写
- 说明：读写边框色。

### 进度

- 类型：整数
- 读写：读写
- 说明：读写进度。

```
local 转盘指针 = 组件对象.取出节点("转盘指针")
转盘指针.进度 = 转盘指针.进度 + 1
if (转盘指针.进度 > 100) then
 转盘指针.进度 = 0
end

```

### 气泡提示

- 类型：文本
- 读写：读写
- 说明：读写气泡提示。

### 鼠标焦点

- 类型：逻辑
- 读写：只读
- 说明：组件当前是否有鼠标焦点。

### 鼠标坐标

- 类型：table {x,y}
- 读写：只读
- 说明：组件当前的鼠标坐标。

### 图片

- 类型：文本/nil
- 读写：读写
- 说明：设置底图。

### 灯光

- 类型：RGBA
- 读写：读写
- 说明：取出或者设置一个颜色值可以改变亮度。

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变节点的显示顺序，值越大越先显示。

## 方法

### 画线

画线

说明：传递一个线段组批量渲染。

参数名称 值的类型 是否必填 说明描述 线段组 table/nil true 名称 值的类型 是否必填 说明描述 x 数值 true 起点坐标x y 数值 true 起点坐标y x1 数值 true 终点坐标x y1 数值 true 终点坐标y 宽度 数值 true 线段宽度 颜色 RGBA true 线段颜色 示例 `local x = 0`

local y = 0
local 地图行数 = 20
local 地图列数 = 15
local 格子宽 = 48
local 格子高 = 32
local 地图宽 = 地图列数 * 格子宽
local 地图高 = 地图行数 * 格子高
local 线段色 = RGBA(128,128,128,255)
local 线宽 = 0.5

local 总线段数 = 地图行数 + 地图列数 + 2
local 线段组 = {}
for i = 1, 总线段数 do
	线段组[i] = {}
end

-- 一次循环处理所有线段
local 索引 = 1
for i = 0, 地图行数 do
	y = i * 格子高

	线段组[索引] = {0, y, 地图宽, y, 线宽, 线段色}
	索引 = 索引 + 1
end

for i = 0, 地图列数 do
	x = i * 格子宽

	线段组[索引] = {x,0, x, 地图高 , 线宽, 线段色}
	索引 = 索引 + 1
end

网格节点.画线(线段组)

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 线段组 | table/nil | true | 名称 值的类型 是否必填 说明描述 x 数值 true 起点坐标x y 数值 true 起点坐标y x1 数值 true 终点坐标x y1 数值 true 终点坐标y 宽度 数值 true 线段宽度 颜色 RGBA true 线段颜色 |

| 名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| x | 数值 | true | 起点坐标x |
| y | 数值 | true | 起点坐标y |
| x1 | 数值 | true | 终点坐标x |
| y1 | 数值 | true | 终点坐标y |
| 宽度 | 数值 | true | 线段宽度 |
| 颜色 | RGBA | true | 线段颜色 |

## 示例

```
local x = 0
local y = 0
local 地图行数 = 20
local 地图列数 = 15
local 格子宽 = 48
local 格子高 = 32
local 地图宽 = 地图列数 * 格子宽
local 地图高 = 地图行数 * 格子高
local 线段色 = RGBA(128,128,128,255)
local 线宽 = 0.5

local 总线段数 = 地图行数 + 地图列数 + 2
local 线段组 = {}
for i = 1, 总线段数 do
	线段组[i] = {}
end

-- 一次循环处理所有线段
local 索引 = 1
for i = 0, 地图行数 do
	y = i * 格子高

	线段组[索引] = {0, y, 地图宽, y, 线宽, 线段色}
	索引 = 索引 + 1
end

for i = 0, 地图列数 do
	x = i * 格子宽

	线段组[索引] = {x,0, x, 地图高 , 线宽, 线段色}
	索引 = 索引 + 1
end

网格节点.画线(线段组)

```

### 画圆

画圆

说明：批渲染实心圆。

参数名称 值的类型 是否必填 说明描述 信息表 table/nil true 名称 值的类型 是否必填 说明描述 x 数值 true 显示坐标x y 数值 true 显示坐标y 半径 整数 true 圆的半径 边数 整数 true 圆的边数 颜色 RGBA true 示例 `local 颜色 = RGBA(255,255,255,128)`

local 矩形组件 = 按钮对象.父窗口.文本按钮1.取出节点("矩形格子")
矩形组件.画圆({
 {0,0,4,8,颜色},
 {100,100,4,8,颜色},
 {150,150,4,8,颜色},
})

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 信息表 | table/nil | true | 名称 值的类型 是否必填 说明描述 x 数值 true 显示坐标x y 数值 true 显示坐标y 半径 整数 true 圆的半径 边数 整数 true 圆的边数 颜色 RGBA true |

| 名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| x | 数值 | true | 显示坐标x |
| y | 数值 | true | 显示坐标y |
| 半径 | 整数 | true | 圆的半径 |
| 边数 | 整数 | true | 圆的边数 |
| 颜色 | RGBA | true | |

## 示例

```
local 颜色 = RGBA(255,255,255,128)
local 矩形组件 = 按钮对象.父窗口.文本按钮1.取出节点("矩形格子")
矩形组件.画圆({
 {0,0,4,8,颜色},
 {100,100,4,8,颜色},
 {150,150,4,8,颜色},
})

```

### 画矩形

画矩形

说明：传递一个显示配置数组进行批渲染。

参数名称 值的类型 是否必填 说明描述 信息表 table/nil true 名称 值的类型 是否必填 说明描述 x 数值 true 显示坐标x y 数值 true 显示坐标y 宽度 整数 true 矩形宽度 高度 整数 true 矩形高度 颜色 RGBA true 示例 `local 颜色 = RGBA(255,255,255,128)`

local 矩形组件 = 按钮对象.父窗口.文本按钮1.取出节点("矩形格子")
矩形组件.画矩形({
 {0,0,64,40,颜色},
 {100,100,64,40,颜色},
 {150,150,64,40,颜色},
})

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 信息表 | table/nil | true | 名称 值的类型 是否必填 说明描述 x 数值 true 显示坐标x y 数值 true 显示坐标y 宽度 整数 true 矩形宽度 高度 整数 true 矩形高度 颜色 RGBA true |

| 名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| x | 数值 | true | 显示坐标x |
| y | 数值 | true | 显示坐标y |
| 宽度 | 整数 | true | 矩形宽度 |
| 高度 | 整数 | true | 矩形高度 |
| 颜色 | RGBA | true | |

## 示例

```
local 颜色 = RGBA(255,255,255,128)
local 矩形组件 = 按钮对象.父窗口.文本按钮1.取出节点("矩形格子")
矩形组件.画矩形({
 {0,0,64,40,颜色},
 {100,100,64,40,颜色},
 {150,150,64,40,颜色},
})

```

### 显示气泡

显示气泡

说明：在当前节点上持久显示气泡提示。

参数名称 值的类型 是否必填 说明描述 x 整数/nil true 显示偏移x,nil表示取消持久显示 y 整数 true 显示偏移y 水平对齐 整数 false `0：左对齐` `1：居中对齐` `2：右对齐` 垂直对齐 整数 false `0：顶部对齐` `1：居中对齐` `2：底部对齐` 示例 `节点.气泡提示 = [[#z(140,0,1)`

#z(2,-12)#f(宋体14粗)#c(4008636159)短剑#z(0,10,1)
#p(默认皮肤|格子底图)#p(_道具图标|短剑,-44,0,42,42)#f(宋体12)#W#z(4,-42)
类型：武器
#W等级：1
#W限制：无
#z(0,0)
#W攻击 5
#W暴击 100

#z(0,0)#br(140)#H普普通通的短剑#z(0,2,1)]]

local 宽度,高度 = 节点.显示气泡(0,0)
调试输出(宽度,高度)

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 宽度 | 整数 | 气泡宽度 |
| 高度 | 整数 | 气泡高度 |

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| x | 整数/nil | true | 显示偏移x,nil表示取消持久显示 |
| y | 整数 | true | 显示偏移y |
| 水平对齐 | 整数 | false | `0：左对齐` `1：居中对齐` `2：右对齐` |
| 垂直对齐 | 整数 | false | `0：顶部对齐` `1：居中对齐` `2：底部对齐` |

## 示例

```
节点.气泡提示 = [[#z(140,0,1)
#z(2,-12)#f(宋体14粗)#c(4008636159)短剑#z(0,10,1)
#p(默认皮肤|格子底图)#p(_道具图标|短剑,-44,0,42,42)#f(宋体12)#W#z(4,-42)
类型：武器
#W等级：1
#W限制：无
#z(0,0)
#W攻击 5
#W暴击 100

#z(0,0)#br(140)#H普普通通的短剑#z(0,2,1)]]

local 宽度,高度 = 节点.显示气泡(0,0)
调试输出(宽度,高度)

```

| 返回值 | 值的类型 | 说明描述 |
| --- | --- | --- |
| 宽度 | 整数 | 气泡宽度 |
| 高度 | 整数 | 气泡高度 |

### 销毁

销毁

说明：销毁当前组件。

示例 `本次焦点.销毁() `

## 示例

```
本次焦点.销毁()

```

# 动画

## 配置项

| 名称 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| 类型 | 文本 | true | 固定值： 动画 表示这是一个动画组件 |
| 名称 | 文本 | true | 节点中唯一标识 |
| x | 整数 | false | 默认显示坐标x |
| y | 整数 | false | 默认显示坐标y |
| 动画 | 文本 | false | 动画类型的资源标识 |
| 动作 | 文本 | false | |
| 颜色 | RGBA | false | 默认颜色 RGBA(255,255,255,255) |
| 灯光 | RGBA | false | 灯光色 |
| 透明度 | 小数 | false | 0-1 |
| 帧速 | 小数 | false | 播放速度倍数,越大越快 默认：1.0 |
| 角度 | 数值 | false | 默认：0 |
| 锚点x | 整数 | false | 动画的锚点x偏移,非比例 |
| 锚点y | 整数 | false | 动画的锚点y偏移,非比例 |
| 水平缩放 | 数值 | false | |
| 垂直缩放 | 数值 | false | |
| 默认可视 | 逻辑 | false | 默认是否显示 |
| 气泡提示 | 文本 | false | |
| 气泡皮肤 | 文本 | false | |
| 鼠标事件 | 逻辑 | false | 是否接收鼠标事件 |

```
{
 名称 = "身体动画",
 类型 = "动画",
 x = 40,
 y = 140,
 动画 = "Long_角色动画_男默认",
 动作 = "停止_4",
 默认可视 = true,
 鼠标事件 = true,
},

```

## 属性

### 可视

- 类型：逻辑
- 说明：是否显示组件

### 名称

- 类型：文本
- 读写：只读
- 说明：组件的名称。

### 类型

- 类型：文本
- 读写：只读
- 说明：组件的类型。

### x

- 类型：整数
- 读写：读写
- 说明：组件的x坐标。

### y

- 类型：整数
- 读写：读写
- 说明：组件的y坐标。

### 水平缩放

- 类型：小数
- 读写：读写
- 说明：组件的水平缩放倍数。

### 垂直缩放

- 类型：小数
- 读写：读写
- 说明：组件的垂直缩放倍数。

### 颜色

- 类型：RGBA
- 读写：读写
- 说明：修改动画颜色。

### 动画

- 类型：文本
- 读写：读写
- 说明：当前组件的动画。

### 动作

- 类型：文本
- 读写：读写
- 说明：当前组件默认播放的动作。

### 灯光

- 类型：RGBA/nil
- 读写：读写
- 说明：修改动画灯光颜色。

### 帧速

- 类型：数值
- 读写：读写
- 说明：当前动画播放的速度倍数,修改后下次播放动作才有效。

### 透明度

- 类型：数值
- 读写：读写
- 说明：当前动画播放的透明度,范围：0-1。

### 角度

- 类型：数值
- 读写：读写
- 说明：当前动画播放的角度。

### 气泡提示

- 类型：文本
- 读写：读写
- 说明：读写气泡提示。

### 鼠标焦点

- 类型：逻辑
- 读写：只读
- 说明：组件当前是否有鼠标焦点。

### 鼠标坐标

- 类型：table {x,y}
- 读写：只读
- 说明：组件当前的鼠标坐标。

### 次序

- 类型：数值
- 读写：读写
- 说明：动态改变节点的显示顺序，值越大越先显示。

## 方法

### 播放

播放

说明：按顺序播放动作列表，在最后一个动作停留并重复播放。

参数名称 值的类型 是否必填 说明描述 动作列表 table {} true call function false 回调函数 动作结束后触发 触发位置 整数 false 在倒数第几个动作播放后触发call 默认：0 示例 `local 身体动画 = 本次焦点.取出节点("身体动画")`

身体动画.播放({"攻击_4","停止_4"},function()
 调试输出("动作结束")
end,1)

身体动画.播放({"攻击_4,0","攻击_4,1","死亡_4,0,1"}) -- 为动作设置更多细节

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 动作列表 | table {} | true | |
| call | function | false | 回调函数 动作结束后触发 |
| 触发位置 | 整数 | false | 在倒数第几个动作播放后触发call 默认：0 |

## 示例

```
local 身体动画 = 本次焦点.取出节点("身体动画")
身体动画.播放({"攻击_4","停止_4"},function()
 调试输出("动作结束")
end,1)

身体动画.播放({"攻击_4,0","攻击_4,1","死亡_4,0,1"}) -- 为动作设置更多细节

```

### 闪烁

闪烁

说明：播放闪烁效果。

参数名称 值的类型 是否必填 说明描述 颜色值 RGBA true 持续时间 整数 false 单位：毫秒 默认：100 闪烁间隔 整数 false 单位：毫秒 默认：50 `描边模式时设置为0表示持续显示描边` 描边宽度 整数 false >0时，表示使用边框闪烁模式 默认：0 示例 `local 身体动画 = 本次焦点.取出节点("身体动画")`

身体动画.闪烁(RGBA(170,170,170,170))

| 参数名称 | 值的类型 | 是否必填 | 说明描述 |
| --- | --- | --- | --- |
| 颜色值 | RGBA | true | |
| 持续时间 | 整数 | false | 单位：毫秒 默认：100 |
| 闪烁间隔 | 整数 | false | 单位：毫秒 默认：50 `描边模式时设置为0表示持续显示描边` |
| 描边宽度 | 整数 | false | >0时，表示使用边框闪烁模式 默认：0 |

## 示例

```
local 身体动画 = 本次焦点.取出节点("身体动画")
身体动画.闪烁(RGBA(170,170,170,170))

```

### 销毁

销毁

说明：销毁当前组件。

示例 `本次焦点.销毁() `

## 示例

```
本次焦点.销毁()

```
